@model NeuropsychInventory.ViewModels.OrderDetailsVM

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<h3>Order Date: @Model.Order.Date.ToShortDateString()</h3>

@foreach (var c in Model.Companies)
{
    <h3>@Html.ActionLink(c.CompanyName, "Details", "Company", new { id = c.CompanyId }, null)</h3>
    <table id="order-details-table">
    <colgroup>
        <col style="width:150px" />
        <col style="width:175px" />
        <col style="width:150px" />
        <col style="width:125px" />
        <col style="width:100px" />
        <col style="width:125px" />
    </colgroup>
    <thead>
        <tr>
            <th>Test</th>
            <th>Product</th>
            <th>Product #</th>
            <th>Quantity</th>
            <th>Cost/Unit</th>
        </tr>
    </thead>
    @foreach(var item in Model.ProductsByOrder)
    {
        if (item.CompanyId == c.CompanyId ) {
            <tr>
                <td>@item.TestName</td>
                <td>@item.ProductName</td>
                <td>@item.ProductNumber</td>
                <td>@item.Quantity</td>
                <td>@item.PricePerUnit</td>
            </tr>
        }

    }
</table>
}

<p>
    @Html.ActionLink("Back to List", "Index")
</p>
